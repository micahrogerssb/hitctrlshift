---
import SearchIcon from './icons/SearchIcon.astro';
import KeyboardShortcut from './KeyboardShortcut.astro';

interface Props {
  initialQuery?: string;
  showShortcut?: boolean;
}

const { initialQuery = '', showShortcut = true } = Astro.props;
---

<form class="relative group" action="/search" method="GET">
  <div class="absolute inset-0 bg-gradient-to-r from-primary/10 via-secondary/5 to-transparent rounded-2xl opacity-0 group-focus-within:opacity-100 transition-all duration-500"></div>
  
  <div class="relative flex items-center">
    <input 
      type="search" 
      id="search-input"
      name="q"
      value={initialQuery}
      placeholder="Search articles..." 
      autocomplete="off"
      class="w-full bg-white/5 backdrop-blur-sm border border-white/10 rounded-2xl pl-14 pr-4 py-4 font-sans text-lg text-white/90 placeholder-white/30 focus:outline-none focus:border-white/20 transition-all duration-300"
    />
    
    <div class="absolute left-4 top-1/2 -translate-y-1/2">
      <SearchIcon />
    </div>

    {showShortcut && (
      <div class="absolute right-4 top-1/2 -translate-y-1/2">
        <KeyboardShortcut keys={['âŒ˜', 'K']} />
      </div>
    )}
  </div>
</form>